$(function(){function u(n){return n.flights.filter(n=>!n.deleted)}function r(){let r=Number(n.value),u=Number(t.value);r>0&&u>0&&r!=u&&i.ajax.reload()}let n=$("#select-from-city")[0].ej2_instances[0],t=$("#select-to-city")[0].ej2_instances[0],i=$("#table-flights").DataTable({layout:{topStart:null,topEnd:null,bottomEnd:["paging","pageLength"]},order:[[1,"asc"]],ajax:{url:function(){let i=Number(n.value),r=Number(t.value);return i>0&&r>0?`/admin/flights/getall?from=${i}&to=${r}`:"/admin/flights/getall"},dataSrc:u},processing:!0,columnDefs:[{className:"align-middle",targets:"_all"}],columns:[{data:"id"},{data:"price"},{orderable:!1,searchable:!1,width:"8em",data:"id",render:function(n){return city.deleted?'<div class="text-center">'+`<a class="btn btn-sm btn-primary m-1" href="/admin/cities/edit/${n}" role="button"><i class="fa-solid fa-pen"></i></a>`+`<button class="btn btn-sm btn-success m-1" id="restore-modal-toggle" restore-target="${n}"><i class="fa-solid fa-plus"></i></button>`+"<\/div>":'<div class="text-center">'+`<a class="btn btn-sm btn-primary m-1" href="/admin/cities/edit/${n}" role="button"><i class="fa-solid fa-pen"></i></a>`+`<button class="btn btn-sm btn-danger m-1" id="disable-modal-toggle" disable-target="${n}"><i class="fa-solid fa-xmark"></i></button>`+"<\/div>"}}]});i.processing(!1);n.change=r;t.change=r});