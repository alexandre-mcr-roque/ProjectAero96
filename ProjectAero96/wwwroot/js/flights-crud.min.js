function renderCalendar(n){let i={};days.forEach(n=>i[n]=[]);n.forEach(n=>{const t=days[n.dayOfWeek];i[t].push(n)});let t='<table class="table table-bordered"><thead><tr>';days.forEach(n=>t+=`<th>${n}</th>`);t+="<\/tr><\/thead><tbody><tr>";days.forEach(n=>{t+="<td>",i[n].length===0?t+='<span class="text-muted">No flights<\/span>':i[n].forEach(n=>{t+=`<div class="mb-2"><strong>Dep: </strong>${n.departureTime}<br/><strong> Duration: </strong>${n.flightDuration}</div>`}),t+="<\/td>"});t+="<\/tr><\/tbody><\/table>";$("#weekly-calendar").html(t)}function fetchFlights(n){if(!n||n=="0"){$("#weekly-calendar").html("");return}$.get(`/airplanes/${n}/flights`,function(n){renderCalendar(n.flights)})}function fetchPricePerHour(n){if(!n||n=="0"){airplanePricePerHour=null;return}$.get(`/airplanes/${n}/price-per-hour`,function(n){airplanePricePerHour=parseFloat(n);airplanePricePerHour>0&&updatePriceIfValid()})}function toggleButton(n){$('button[step="2"]').toggleClass("disabled",!n||n=="0")}function updatePriceIfValid(){const t=$("#Hours"),i=$("#Minutes"),n=$("form");if(airplanePricePerHour!==null&&n.validate().element(t)&&n.validate().element(i)){let n=(parseInt($("#Hours").val())|0)+(parseInt($("#Minutes").val())|0)/60,t=(n*airplanePricePerHour).toFixed(2);$("#Price").val(t)}}const days=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];let airplanePricePerHour=null;$(function(){const n=$("#AirplaneId").val();fetchFlights(n);fetchPricePerHour(n);toggleButton(n);$("#AirplaneId").on("change",function(){let n=$(this).val();fetchFlights(n);fetchPricePerHour(n);toggleButton(n)});$("#Hours, #Minutes").on("change blur",updatePriceIfValid)});