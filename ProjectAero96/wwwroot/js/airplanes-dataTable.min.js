$(function(){function t(n){const t=$("#show-disabled").is(":checked");return n.airplanes.filter(function(n){return t||!n.deleted})}let n=$("#table-airplanes").DataTable({layout:{topStart:["pageLength",{div:{className:"dataTable-feature",id:"create-airplane-container",html:'<a href="/admin/airplanes/create" class="btn btn-sm btn-primary" role="button">Create new Airplane<\/a>'}}],topEnd:{search:{text:"Search airplane: _INPUT_"}},top2End:{div:{className:"dataTable-feature",id:"show-disabled-container",html:'<label for="show-disabled" class="form-check-label me-2">Show disabled airplanes<\/label><input type="checkbox" id="show-disabled" class="form-check-input">'}}},order:[[1,"asc"]],ajax:{url:"/admin/airplanes/getall",dataSrc:t},processing:!0,columnDefs:[{className:"align-middle",targets:"_all"}],columns:[{orderable:!1,searchable:!1,width:"8em",data:"airline",render:function(n,t,i){return`<img src="${i.airlineImagePath}" alt="${n}" class="table-image">`}},{data:"descriptionStr"},{orderable:!1,searchable:!1,width:"8em",data:"id",render:function(n,t,i){return i.deleted?'<div class="text-center">'+`<a class="btn btn-sm btn-primary m-1" href="/admin/airplanes/edit/${n}" role="button"><i class="fa-solid fa-pen"></i></a>`+`<button class="btn btn-sm btn-success m-1" id="restore-modal-toggle" restore-target="${n}"><i class="fa-solid fa-plus"></i></button>`+"<\/div>":'<div class="text-center">'+`<a class="btn btn-sm btn-primary m-1" href="/admin/airplanes/edit/${n}" role="button"><i class="fa-solid fa-pen"></i></a>`+`<button class="btn btn-sm btn-danger m-1" id="disable-modal-toggle" disable-target="${n}"><i class="fa-solid fa-xmark"></i></button>`+"<\/div>"}}],rowCallback:function(n,t){t.deleted&&$(n).addClass("row-disabled")}});n.processing(!1);$("#show-disabled").on("change",function(){n.ajax.reload()});$("#table-airplanes").on("click",'button[id="disable-modal-toggle"]',function(){let n=$(this).attr("disable-target");$("#disable-airplaneid").val(n);$("#disable-modal").modal("show")});$("#confirm-disable").on("click",function(){let t=$("#disable-airplaneid").val(),i=$('input[name="__RequestVerificationToken"]').val();$.ajax({url:`/admin/airplanes/disable/${t}`,type:"POST",headers:{RequestVerificationToken:i},success:function(){n.ajax.reload()},error:function(n){alert(`Error disabling airplane: ${n.responseText}`)},complete:function(){$("#disable-modal").modal("hide")}})});$("#table-airplanes").on("click",'button[id="restore-modal-toggle"]',function(){let n=$(this).attr("restore-target");$("#restore-airplaneid").val(n);$("#restore-modal").modal("show")});$("#confirm-restore").on("click",function(){let t=$("#restore-airplaneid").val(),i=$('input[name="__RequestVerificationToken"]').val();$.ajax({url:`/admin/airplanes/restore/${t}`,type:"POST",headers:{RequestVerificationToken:i},success:function(){n.ajax.reload()},error:function(n){alert(`Error restoring airplane: ${n.responseText}`)},complete:function(){$("#restore-modal").modal("hide")}})})});